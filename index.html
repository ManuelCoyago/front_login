<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Panel de Acceso</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<button id="logoutBtn" class="btn-logout hidden">Cerrar Sesión</button>


<!-- Formulario de Login -->
<form id="loginForm">
  <h2>Iniciar Sesión</h2>
  <input type="text" id="email" placeholder="Correo electrónico" required />
  <input type="password" id="password" placeholder="Contraseña" required />
  <button type="submit" class="btn-primary">Ingresar</button>
  <div id="message" class="message"></div>
</form>

<div id="2fa-section" class="hidden">
  <h3>Autenticación en Dos Pasos</h3>
  <div id="qr-container"></div>
  <input type="text" id="totp-code" placeholder="Código de 6 dígitos">
  <button id="verify-2fa-btn">Verificar</button>
</div>

<!-- Sección de Productos -->
<div id="productosPanel" class="productos hidden">
  <h2>Productos Disponibles</h2>
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Precio</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody id="productosBody"></tbody>
  </table>
</div>

<!-- Sección de CRUD Productos (para adminP) -->
<div id="crudProductos" class="panel hidden">
  <h2>Administrar Productos</h2>
  <form id="productoForm">
    <input type="hidden" id="productoId" value="">
    <input type="text" id="nombreProducto" placeholder="Nombre" required />
    <input type="text" id="descripcionProducto" placeholder="Descripción" />
    <input type="number" id="precioProducto" placeholder="Precio" step="0.01" required />
    <div class="button-group">
      <button type="submit" id="productoSubmitBtn" class="btn-primary">Crear Producto</button>
      <button type="button" id="cancelarEdicionProducto" class="btn-delete hidden">Cancelar</button>
    </div>
  </form>
</div>
<!-- Sección de Usuarios -->
<div id="usuariosPanel" class="usuarios hidden">
  <h2>Usuarios Registrados</h2>
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Username</th>
        <th>Email</th>
        <th>Rol</th>
        <th class="actions-header">Acciones</th>
      </tr>
    </thead>
    <tbody id="usuariosBody"></tbody>
  </table>
</div>

<!-- Sección de CRUD Usuarios (para admin) -->
<div id="crudUsuarios" class="panel hidden">
  <h2>Administrar Usuarios</h2>
  <form id="usuarioForm">
    <input type="hidden" id="usuarioId" value="">
    <input type="text" id="usernameUsuario" placeholder="Username" required />
    <input type="text" id="correoUsuario" placeholder="Correo electrónico" required />
    <input type="password" id="claveUsuario" placeholder="Contraseña" required />
    
    <div class="form-group">
      <label for="rolUsuario">Rol:</label>
      <select id="rolUsuario" required>
        <option value="">Seleccione un rol</option>
        <option value="admin">Administrador</option>
        <option value="adminP">Admin Productos</option>
        <option value="user">Usuario Normal</option>
      </select>
    </div>
    
    <div class="button-group">
      <button type="submit" id="usuarioSubmitBtn" class="btn-primary">Crear Usuario</button>
      <button type="button" id="cancelarEdicionUsuario" class="btn-delete hidden">Cancelar</button>
    </div>
  </form>
</div>

<script type="module" src="main.js"></script>





</body>
</html>